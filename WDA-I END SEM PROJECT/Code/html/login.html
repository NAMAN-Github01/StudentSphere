<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal Login</title>
    <link rel="stylesheet" href="/Code/css/login.css">
    <style>
        /* CSS styles for error display */
        .error-message {
            color: red;
            font-size: 12px;
            display: none;
        }

        .error-border {
            border-bottom: 2px solid red;
        }

        /* Flex container for "Forgot Password?" and "Show Password" checkbox */
        .remember-forgot {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .remember-forgot a {
            text-decoration: none;
        }

        /* Align "Show Password" text right next to the checkbox */
        .show-password-label {
            margin-left: 5px; /* Small gap between checkbox and label */
        }

        /* Hide the Show Password checkbox by default */
        .show-password-container {
            display: none;
        }
    </style>
</head>
<body>
    <form action="/submit-login" method="POST">
        <div class="parent">
            <header>
                <h1 id="smrk"> 
                    <a href="https://iiitl.ac.in/">
                        <img src="/Images and SVGs/Home/studentSphere.svg" class="clgpic" alt="IIITL College Logo">
                    </a> 
                    STUDENT PORTAL
                </h1>
            </header>
            <div class="content">
                <div class="login">
                    <h1 id="head1">Login Now</h1>
                    <h2 id="para1">Welcome back!</h2>
                    <label for="email">Email:</label><br>  
                    <input type="email" id="email" name="email" required placeholder="Enter your email"><br><br>
                    <!-- Error message container -->
                    <div class="error-message" id="email-error-message">Please enter a valid email address.</div><br>
                    <label for="password">Password:</label><br>
                    <input type="password" id="password" required placeholder="Enter your password"><br><br>
                    <!-- Flex container for "Forgot Password?" and "Show Password" checkbox -->
                    <div class="remember-forgot">
                        <a href="forgot.html" id="v1">Forgot Password?</a>
                        <!-- Container for the "Show Password" checkbox, initially hidden -->
                        <div class="show-password-container">
                            <input type="checkbox" id="show-password" class="show-password"> 
                            <label for="show-password" class="show-password-label" style="color: #ff8a80;">Show Password</label>
                        </div>
                    </div><br>
                    <div id="butt">
                        <button type="submit"><a href="home.html">Login</a></button>
                    </div>
                    <p class="signup-text">Not registered yet? <a href="signup.html"><b>Create an account</b></a></p>
                </div>
                <div class="image">
                    <img src="/Images and SVGs/Login/computer.svg" alt="Computer illustration">
                </div>
            </div>
        </div>
    </form>

    <script>
        // Function to validate email
        function validateEmail() {
            const emailInput = document.getElementById('email');
            const errorMessage = document.getElementById('email-error-message');
            
            // Regular expression to match a valid email format
            const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;

            // If email doesn't match the pattern, show error
            if (!emailPattern.test(emailInput.value)) {
                emailInput.classList.add('error-border'); // Add red border
                errorMessage.style.display = 'block'; // Display error message
            } else {
                emailInput.classList.remove('error-border'); // Remove red border
                errorMessage.style.display = 'none'; // Hide error message
            }
        }

        // Attach event listener to email input field for blur event
        document.getElementById('email').addEventListener('blur', function() {
            validateEmail(); // Validate when the user moves to the next field
        });

        // Toggle password visibility
        document.getElementById('show-password').addEventListener('change', function() {
            const passwordInput = document.getElementById('password');
            if (this.checked) {
                passwordInput.type = 'text'; // Show password
            } else {
                passwordInput.type = 'password'; // Hide password
            }
        });

        // Display the "Show Password" checkbox when user starts typing in the password field
        document.getElementById('password').addEventListener('input', function() {
            const passwordInput = document.getElementById('password');
            const showPasswordContainer = document.querySelector('.show-password-container');
            
            if (passwordInput.value.length > 0) {
                showPasswordContainer.style.display = 'inline-block'; // Show the checkbox
            } else {
                showPasswordContainer.style.display = 'none'; // Hide the checkbox if password is empty
            }
        });
    </script>
</body>
</html>
